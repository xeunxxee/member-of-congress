<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="css/styles.css" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>국회의원view-국회공공데이터경진대회</title>
  </head>

  <body class="chat-body">
    <div class="status-bar">
      <div class="status-bar__column">
        <span>No Service</span>
        <i class="fa-solid fa-wifi"></i>
      </div>
      <div class="status-bar__column">
        <span>9:00</span>
      </div>
      <div class="status-bar__column">
        <span>100%</span>
        <i class="fa-solid fa-battery-full fa-2x"></i>
      </div>
    </div>

    <header class="chat-header">
      <div class="chat-header-column">
        <a href="chats.html"><i class="fa-solid fa-chevron-left fa-lg"></i></a>
      </div>
      <div class="chat-header-column">
        <h1 class="screen-header_title">for test</h1>
      </div>
      <div class="chat-header-column">
        <span><i class="fa-solid fa-magnifying-glass fa-lg"></i></span>
        <span><i class="fa-solid fa-bars fa-lg"></i></span>
      </div>
    </header>

    <main class="chat-screen">
      <div class="chat-date-box">
        <a class="chat-date">Sunday, February, 2024</a>
      </div>

      <div class="chat-row row">
        <img class="chat-row-img" src="img/cats1.png" />
        <div class="chat-row-text">
          <p class="chat-row-name">오늘의 이슈, 오늘의 개정</p>
          <div class="chat-row-info">
            <div>
              <p class="chat-row-messege messege">
                <span class="bold">'한두희'</span>
                국회의원님의 관심사에 따른<br />
                금주 이슈 주목 순위를 알려드립니다.
                <br /><br />
                키워드를 눌러 자세한 내용을 확인해보세요.
              </p>
              <p class="chat-row-messege vote">
                <button
                  onclick="showKeyword('dog')"
                  class="chat-row-messege-vote"
                  id="dog"
                >
                  1위
                  <img src="keyword_images/dog.PNG" class="chat-keywordimage" />
                </button>
                <button
                  onclick="showKeyword('drug')"
                  class="chat-row-messege-vote"
                  id="drug"
                >
                  2위
                  <img
                    src="keyword_images/drug.PNG"
                    class="chat-keywordimage"
                    id="dog"
                  />
                </button>
                <button
                  onclick="showKeyword('food')"
                  class="chat-row-messege-vote"
                  id="food"
                >
                  3위
                  <img
                    src="keyword_images/food.PNG"
                    class="chat-keywordimage"
                  />
                </button>
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="fixed-buttons">
        <button class="fixed-button" onclick="createMessage('left')">
          오늘의 이슈
        </button>
        <button class="fixed-button" onclick="createMessage('center')">
          함께 논의
        </button>
        <button class="fixed-button" onclick="createMessage('right')">
          투표 현황
        </button>
      </div>
    </main>

    <form class="reply">
      <div class="reply__column">
        <i class="fa-regular fa-square-plus fa-lg"></i>
      </div>
      <div class="reply__column">
        <input
          class="reply__input"
          type="text"
          placeholder="Write a messege..."
        />
        <i class="fa-regular fa-face-smile fa-lg"></i>
        <button class="reply__btn">
          <i class="fa-solid fa-arrow-up fa-lg"></i>
        </button>
      </div>
    </form>

    <script>
      function showKeyword(keyword) {
        // 해당 키워드에 대한 이미지 경로 설정
        let imagePath = "";
        switch (keyword) {
          case "dog":
            imagePath = "news_images/dog.png";
            news = "id=dog part";
            recent = "현행법";
            revision = "개정안";
            break;
          case "drug":
            imagePath = "news_images/drug.png";
            news = "id=drug part";
            recent = "현행법";
            revision = "개정안";
            break;
          case "food":
            imagePath = "news_images/food.png";
            news =
              "식품에 사용할 수 없는 발기부전치료제 성분인 '타다라필'이 함유된 니다수입산 벌꿀을 불법으로 판매한 업자가 적발되었습니다. 이들은 2019년부터 2022년까지 약 5063박스의 벌꿀 제품을 불법으로 수입하고, 이 중 약 3380박스를 유통·판매하였습니다. 이는 식품위생법 및 수입식품안전관리 특별법 위반에 해당됩니다. 식품의약품안전처는 이 사건을 검찰에 송치했고, 미국 FDA에서도 해당 제품의 위해성이 확인되어 유통 및 판매를 금지했습니다.";
            recent =
              "<span class='bold'>현행법</span><br />수입식품안전관리 특별법 제20조<br />1. 영업자가 판매를 목적으로 하거나 영업상 사용할 목적으로 수입식품등을 수입(수입신고 대행을 포함한다)하려면 해당 수입식품등을 총리령으로 정하는 바에 따라 식품의약품안전처장에게 수입신고를 하여야 한다. 다만, 위생상 위해발생의 우려가 낮거나 없는 경우 등 총리령으로 정하는 경우에는 그러하지 아니하다.<br />2.제1항에 따라 수입신고를 하려는 자 또는 수입신고를 한 자는 수입식품등의 안전과 품질에 대하여 책임을 지며, 다음 각 호에 해당하는 행위를 하여서는 아니 된다. <br />1. 거짓이나 그 밖의 부정한 방법으로 수입신고하는 행위<br />2. 제1항에 따른 신고내용과 다른 용도로 수입식품등을 사용하거나 판매하는 행위. 다만, 제15조제6항에 따라 영업을 등록한 것으로 보는 영업자가 자사제품의 제조용 원료 또는 외화획득용 원료로 수입신고한 후 총리령으로 정하는 바에 따라 용도변경 승인을 받은 경우는 제외한다.<br />3. 제21조제1항에 따른 검사 결과 부적합 처분을 받아 수출국으로 반송되거나 다른 나라로 반출된 수입식품등을 재수입하는 행위<br />4. 제21조제1항 후단에 따른 수입신고 조건을 위반하는 행위<br />5. 「식품위생법」 제7조, 「건강기능식품에 관한 법률」 제14조 및 「축산물 위생관리법」 제4조에 따른 기준 및 규격에 위반되는 수입식품등을 수입신고하는 행위";
            revision =
              "<span class='bold'>개정안 방향성</span><br />1. 수입식품안전관리 특별법 제20조 1항(수입신고 등)<br /> 수입하는 모든 식품의 성분 시험 결과를 요구하는 항을 추가하고, 해당 시험 결과가 수입신고의 필수 요건이 되도록 수정해야 합니다. <br />2. 수입식품안전관리 특별법 제20조 2항(수입신고의 책임 및 금지행위)<br />수입신고자가 위반행위를 할 시 더 엄격한 처벌을 받도록 법을 수정합니다. 또한, 적발된 위반행위가 심각할 경우 영업정지, 벌금 및 구속을 포함한 처벌을 실감하게 적용될 수 있도록 법률을 수정해야 합니다.";
            break;
        }

        // 새로운 div 생성
        const newDiv = document.createElement("div");
        newDiv.classList.add("chat-row", "row");

        // 프사
        const profileImage = document.createElement("img");
        profileImage.src = "img/cats1.png";
        profileImage.classList.add("chat-row-img");

        // 이름
        const newName = document.createElement("p");
        newName.textContent = "오늘의 이슈, 오늘의 개정";
        newName.classList.add("chat-row-name");

        // 기사 요약
        const newText = document.createElement("p");
        newText.innerHTML = news;
        newText.classList.add("chat-row-messege", "messege", "newsMessege");

        newText.addEventListener("click", function () {
          switch (keyword) {
            case "dog":
              window.open(
                "https://news.kbs.co.kr/news/pc/view/view.do?ncd=7866636"
              );
              break;
            case "drug":
              window.open(
                "https://www.seoul.co.kr/news/newsView.php?id=20231123500112"
              );
              break;
            case "food":
              window.open(
                "https://n.news.naver.com/mnews/article/003/0012346200?sid=102"
              );
              break;
          }
        });

        const newText1 = document.createElement("p");
        newText1.innerHTML = recent;
        newText1.classList.add("chat-row-messege", "messege");

        const newText2 = document.createElement("p");
        newText2.innerHTML = revision;
        newText2.classList.add("chat-row-messege", "messege");

        // 기사 이미지
        const newImage = document.createElement("img");
        newImage.src = imagePath;
        newImage.classList.add("chat-keywordimage");

        // 오른쪽 박스
        const chatRowText = document.createElement("div");
        chatRowText.classList.add("chat-row-text");

        // 오른쪽 박스에 이름, 말풍선 추가
        chatRowText.appendChild(newName);
        newText.appendChild(newImage);
        chatRowText.appendChild(newText);
        chatRowText.appendChild(newText1);
        chatRowText.appendChild(newText2);

        // 전체 박스에 프로필 이미지, 오른쪽 박스 추가
        newDiv.appendChild(profileImage);
        newDiv.appendChild(chatRowText);

        // 생성한 div를 기존 문서에 추가
        document.querySelector("main").appendChild(newDiv);
        document.querySelector("main").appendChild(newDiv);
      }
    </script>

    <script>
      /* 하단 3가지 버튼 */
      // 3버튼기능을 위한 함수
      function createMessage(position) {
        var main = document.querySelector("main");

        if (position === "left") {
          var leftContent = document.createElement("div");
          leftContent.classList.add("chat-row", "row");

          var img = document.createElement("img");
          img.classList.add("chat-row-img");
          img.src = "img/cats1.png";
          leftContent.appendChild(img);

          var textContainer = document.createElement("div");
          textContainer.classList.add("chat-row-text");
          leftContent.appendChild(textContainer);

          var name = document.createElement("p");
          name.classList.add("chat-row-name");
          name.textContent = "오늘의 이슈, 오늘의 개정";
          textContainer.appendChild(name);

          var infoContainer = document.createElement("div");
          infoContainer.classList.add("chat-row-info");
          textContainer.appendChild(infoContainer);

          var message1 = document.createElement("p");
          message1.classList.add("chat-row-messege", "messege");
          message1.innerHTML =
            "<span class='bold'>'한두희'</span> 국회의원님의 관심사에 따른 <br /> 금주 이슈 주목 순위를 알려드립니다.<br/><br/>키워드를 눌러 자세한 내용을 확인해보세요.";
          infoContainer.appendChild(message1);

          var voteContainer = document.createElement("p");
          voteContainer.classList.add("chat-row-messege", "vote");
          infoContainer.appendChild(voteContainer);

          var dogButton = createKeywordButton(
            "dog",
            "1위",
            "keyword_images/dog.PNG"
          );
          var drugButton = createKeywordButton(
            "drug",
            "2위",
            "keyword_images/drug.PNG"
          );
          var foodButton = createKeywordButton(
            "food",
            "3위",
            "keyword_images/food.PNG"
          );

          voteContainer.appendChild(dogButton);
          voteContainer.appendChild(drugButton);
          voteContainer.appendChild(foodButton);

          main.appendChild(leftContent);
        }

        // 가운데 버튼: 링크로 이동
        else if (position === "center") {
          window.open(
            "https://www.notion.so/a1e756b25b8d4620ba45dacceb028853",
            "_blank"
          );
        }

        // 오른쪽 버튼: 투표 현황 설명, 이미지 출력
        else if (position === "right") {
          var rightContent = document.createElement("div");
          rightContent.classList.add("chat-row", "row");

          var img = document.createElement("img");
          img.classList.add("chat-row-img");
          img.src = "img/cats1.png";
          rightContent.appendChild(img);

          var textContainer = document.createElement("div");
          textContainer.classList.add("chat-row-text");
          rightContent.appendChild(textContainer);

          var name = document.createElement("p");
          name.classList.add("chat-row-name");
          name.textContent = "오늘의 이슈, 오늘의 개정";
          textContainer.appendChild(name);

          var infoContainer = document.createElement("div");
          infoContainer.classList.add("chat-row-info");
          textContainer.appendChild(infoContainer);

          var message2 = document.createElement("p");
          message2.classList.add("chat-row-messege", "messege");
          message2.innerHTML =
            "국민들이 현재 가장 시급하다고  <br /> 생각하는 사안은 <span class='bold'>'반려견'</span>이에요.";
          infoContainer.appendChild(message2);

          var message = document.createElement("p");
          message.classList.add("chat-row-messege", "messege");
          infoContainer.appendChild(message);

          var voteimg = document.createElement("img");
          voteimg.classList.add("chat-voteimage");
          voteimg.src = "vote_images/vote.png";
          message.appendChild(voteimg);

          main.appendChild(rightContent);
        }
      }

      function createKeywordButton(id, text, imgSrc) {
        var button = document.createElement("button");
        button.classList.add("chat-row-messege-vote");
        button.textContent = text;

        var img = document.createElement("img");
        img.classList.add("chat-keywordimage");
        img.src = imgSrc;

        button.appendChild(img);

        button.onclick = function () {
          showKeyword(id);
        };

        return button;
      }
    </script>

    <script
      src="https://kit.fontawesome.com/e14cec3ae0.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
