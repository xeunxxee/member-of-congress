<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="css/styles.css" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat - Kokoa Clone</title>
  </head>

  <body class="chat-body">
    <div class="status-bar">
      <div class="status-bar__column">
        <span>No Service</span>
        <i class="fa-solid fa-wifi"></i>
      </div>
      <div class="status-bar__column">
        <span>20:03</span>
      </div>
      <div class="status-bar__column">
        <span>521%</span>
        <i class="fa-solid fa-battery-full fa-2x"></i>
        <i class="fa-solid fa-bolt-lightning"></i>
      </div>
    </div>

    <header class="chat-header">
      <div class="chat-header-column">
        <a href="chats.html"><i class="fa-solid fa-chevron-left fa-lg"></i></a>
      </div>
      <div class="chat-header-column">
        <h1 class="screen-header_title">for test</h1>
      </div>
      <div class="chat-header-column">
        <span><i class="fa-solid fa-magnifying-glass fa-lg"></i></span>
        <span><i class="fa-solid fa-bars fa-lg"></i></span>
      </div>
    </header>

    <main class="chat-screen">
      <div class="chat-date-box">
        <a class="chat-date">Sunday, January, 2023</a>
      </div>

      <div class="chat-row row">
        <img class="chat-row-img" src="img/cats1.png" />
        <div class="chat-row-text">
          <p class="chat-row-name">오늘의 이슈, 오늘의 개정</p>
          <div class="chat-row-info">
            <div>
              <p class="chat-row-messege messege">
                '한두희' 국회의원님의 관심사에 따른 <br /><br />
                금주 이슈 주목 순위를 알려드립니다.
              </p>
              <p class="chat-row-messege messege">
                키워드를 눌러 자세한 내용을 확인해보세요.
              </p>
              <p class="chat-row-messege vote">
                <button
                  onclick="showKeyword('dog')"
                  class="chat-row-messege-vote"
                  id="dog"
                >
                  1위
                  <img src="keyword_images/dog.PNG" class="chat-keywordimage" />
                </button>
                <button
                  onclick="showKeyword('drug')"
                  class="chat-row-messege-vote"
                  id="drug"
                >
                  2위
                  <img
                    src="keyword_images/drug.PNG"
                    class="chat-keywordimage"
                    id="dog"
                  />
                </button>
                <button
                  onclick="showKeyword('food')"
                  class="chat-row-messege-vote"
                  id="food"
                >
                  3위
                  <img
                    src="keyword_images/food.PNG"
                    class="chat-keywordimage"
                  />
                </button>
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="fixed-buttons">
        <button class="fixed-button" onclick="createMessage('left')">
          오늘의 이슈
        </button>
        <button class="fixed-button" onclick="createMessage('center')">
          함께 논의
        </button>
        <button class="fixed-button" onclick="createMessage('right')">
          투표 현황
        </button>
      </div>
    </main>

    <form class="reply">
      <div class="reply__column">
        <i class="fa-regular fa-square-plus fa-lg"></i>
      </div>
      <div class="reply__column">
        <input
          class="reply__input"
          type="text"
          placeholder="Write a messege..."
        />
        <i class="fa-regular fa-face-smile fa-lg"></i>
        <button class="reply__btn">
          <i class="fa-solid fa-arrow-up fa-lg"></i>
        </button>
      </div>
    </form>

    <script>
      function showKeyword(keyword) {
        // 해당 키워드에 대한 이미지 경로 설정
        let imagePath = "";
        switch (keyword) {
          case "dog":
            imagePath = "news_images/dog.png";
            news = "id=dog part";
            recent = "현행법";
            revision = "개정안";
            break;
          case "drug":
            imagePath = "news_images/drug.png";
            news = "id=drug part";
            recent = "현행법";
            revision = "개정안";
            break;
          case "food":
            imagePath = "news_images/food.png";
            news = "id=food part";
            recent = "현행법";
            revision = "개정안";
            break;
        }

        // 새로운 div 생성
        const newDiv = document.createElement("div");
        newDiv.classList.add("chat-row", "row");

        // 프사
        const profileImage = document.createElement("img");
        profileImage.src = "img/cats1.png";
        profileImage.classList.add("chat-row-img");

        // 이름
        const newName = document.createElement("p");
        newName.textContent = "오늘의 이슈, 오늘의 개정";
        newName.classList.add("chat-row-name");

        // 기사 요약
        const newText = document.createElement("p");
        newText.innerHTML = news;
        newText.classList.add("chat-row-messege", "messege", "newsMessege");

        const newText1 = document.createElement("p");
        newText1.innerHTML = recent;
        newText1.classList.add("chat-row-messege", "messege");

        const newText2 = document.createElement("p");
        newText2.innerHTML = revision;
        newText2.classList.add("chat-row-messege", "messege");

        // 기사 이미지
        const newImage = document.createElement("img");
        newImage.src = imagePath;
        newImage.classList.add("chat-keywordimage");

        // 오른쪽 박스
        const chatRowText = document.createElement("div");
        chatRowText.classList.add("chat-row-text");

        // 오른쪽 박스에 이름, 말풍선 추가
        chatRowText.appendChild(newName);
        newText.appendChild(newImage);
        chatRowText.appendChild(newText);
        chatRowText.appendChild(newText1);
        chatRowText.appendChild(newText2);

        // 전체 박스에 프로필 이미지, 오른쪽 박스 추가
        newDiv.appendChild(profileImage);
        newDiv.appendChild(chatRowText);

        // 생성한 div를 기존 문서에 추가
        document.querySelector("main").appendChild(newDiv);
        document.querySelector("main").appendChild(newDiv);
      }
    </script>

    <script>
      /* 하단 3가지 버튼 */
      // 3버튼기능을 위한 함수
      function createMessage(button) {
        const chatScreen = document.querySelector(".chat-screen");
        const newDiv = document.createElement("div");
        newDiv.classList.add("chat-row", "row");

        const profileImage = document.createElement("img");
        profileImage.classList.add("chat-row-img");
        profileImage.src = "img/cats1.png";

        const newName = document.createElement("p");
        newName.textContent = "오늘의 이슈, 오늘의 개정";
        newName.classList.add("chat-row-name");

        const newRowText = document.createElement("p");
        newRowText.classList.add("chat-row-messege");

        // 오른쪽 박스
        const chatRowText = document.createElement("div");
        chatRowText.classList.add("chat-row-text");

        switch (button) {
          case "left":
            newRowText.textContent = "오늘의 이슈";
            break;

          case "center":
            newRowText.textContent = "함께 논의";
            break;

          case "right":
            newRowText.innerHTML = `
            <p class="chat-row-messege">투표 현황입니다.</p>
            <div class="chat-row-info">
                <p>투표 현황 이미지가 들어갈 것</p>
            </div>
        `;
            // 각 투표 버튼에 클릭 이벤트 추가
            newRowText
              .querySelectorAll(".chat-row-messege-vote")
              .forEach((button) => {
                button.addEventListener("click", voteButtonClickHandler);
              });
            break;
        }
        // 오른쪽 박스에 이름, 말풍선 추가
        chatRowText.appendChild(newName);
        chatRowText.appendChild(newRowText);

        // 전체 박스에 프로필 이미지, 오른쪽 박스 추가
        newDiv.appendChild(profileImage);
        newDiv.appendChild(chatRowText);

        // 생성한 div를 기존 문서에 추가
        document.querySelector("main").appendChild(newDiv);
      }
    </script>

    <script
      src="https://kit.fontawesome.com/e14cec3ae0.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
