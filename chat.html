<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="css/styles.css" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>국회의원view-국회공공데이터경진대회</title>
  </head>

  <body class="chat-body">
    <div class="status-bar">
      <div class="status-bar__column">
        <span>No Service</span>
        <i class="fa-solid fa-wifi"></i>
      </div>
      <div class="status-bar__column">
        <span>9:00</span>
      </div>
      <div class="status-bar__column">
        <span>100%</span>
        <i class="fa-solid fa-battery-full fa-2x"></i>
      </div>
    </div>

    <header class="chat-header">
      <div class="chat-header-column">
        <a href="chats.html"><i class="fa-solid fa-chevron-left fa-lg"></i></a>
      </div>
      <div class="chat-header-column">
        <h1 class="screen-header_title">오늘의 이슈, 오늘의 개정</h1>
      </div>
      <div class="chat-header-column">
        <span><i class="fa-solid fa-magnifying-glass fa-lg"></i></span>
        <span><i class="fa-solid fa-bars fa-lg"></i></span>
      </div>
    </header>

    <main class="chat-screen">
      <div class="chat-date-box">
        <a class="chat-date">Sunday, February, 2024</a>
      </div>

      <div class="chat-row row">
        <img class="chat-row-img" src="img/cats1.png" />
        <div class="chat-row-text">
          <p class="chat-row-name">오늘의 이슈, 오늘의 개정</p>
          <div class="chat-row-info">
            <div>
              <p class="chat-row-messege messege">
                <span class="bold">'한두희'</span>
                국회의원님의 관심사에 따른<br />
                금주 이슈 주목 순위를 알려드립니다.
                <br /><br />
                키워드를 눌러 자세한 내용을 확인해보세요.
              </p>
              <p class="chat-row-messege vote">
                <button
                  onclick="showKeyword('dog')"
                  class="chat-row-messege-vote"
                  id="dog"
                >
                  1위
                  <img src="keyword_images/dog.PNG" class="chat-keywordimage" />
                </button>
                <button
                  onclick="showKeyword('drug')"
                  class="chat-row-messege-vote"
                  id="drug"
                >
                  2위
                  <img
                    src="keyword_images/drug.PNG"
                    class="chat-keywordimage"
                    id="dog"
                  />
                </button>
                <button
                  onclick="showKeyword('food')"
                  class="chat-row-messege-vote"
                  id="food"
                >
                  3위
                  <img
                    src="keyword_images/food.PNG"
                    class="chat-keywordimage"
                  />
                </button>
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="fixed-buttons">
        <button class="fixed-button" onclick="createMessage('left')">
          오늘의 이슈
        </button>
        <button class="fixed-button" onclick="createMessage('center')">
          함께 논의
        </button>
        <button class="fixed-button" onclick="createMessage('right')">
          투표 현황
        </button>
      </div>
    </main>

    <form class="reply">
      <div class="reply__column">
        <i class="fa-regular fa-square-plus fa-lg"></i>
      </div>
      <div class="reply__column">
        <input
          class="reply__input"
          type="text"
          placeholder="Write a messege..."
        />
        <i class="fa-regular fa-face-smile fa-lg"></i>
        <button class="reply__btn">
          <i class="fa-solid fa-arrow-up fa-lg"></i>
        </button>
      </div>
    </form>

    <script>
      function showKeyword(keyword) {
        // 해당 키워드에 대한 이미지 경로 설정
        let imagePath = "";
        switch (keyword) {
          case "dog":
            imagePath = "news_images/dog.png";
            news =
              "<div><span class='bold'>기사 요약</span><br />한 갈색 푸들이 주인에 의해 두 번 유기되었으며, 첫 번째 유기 후 보호소로부터 연락을 받은 주인이 인식 칩을 제거한 후 다시 버림받아 온라인 커뮤니티에서 공분을 사고 있습니다.<br /><br /><span class='bold'>개정안 제안 이유</span><br />위 사건으로 인해 기존 동물보호법의 벌칙이 너무 가볍고 효과적이지 않다는 논란이 제기되고 있습니다. 이에 따라 동물학대 및 유기에 대한 처벌을 강화하고, 동물보호 인식을 높이기 위한 노력이 필요합니다. 이 모든 것을 구현하기 위해 동물보호법을 개정하고, 동물학대 및 유기에 대한 보다 가중된 처벌을 도입하는 것을 제안합니다.</div>";
            recent =
              "<span class='bold'>현행법</span><br />1. 상습적으로 제1항부터 제5항까지의 죄를 지은 자는 그 죄에 정한 형의 2분의 1까지 가중한다.(동물보호법 제 97조 6항) <br /> 2. 반려동물에게 최소한의 사육공간 및 먹이 제공, 적정한 길이의 목줄, 위생ㆍ건강 관리를 위한 사항 등 농림축산식품부령으로 정하는 사육ㆍ관리 또는 보호의무를 위반하여 상해를 입히거나 질병을 유발하는 행위.(동물보호법 제 10조 2항 4조 가 개정)";
            revision =
              "<span class='bold'>개정안 방향성</span><br />1. 상습적으로 제1항부터 제5항까지의 죄를 지은자는 그 죄에 정한 형의 1배까지 가중한다.(동물보호법 제 97조 6항 개정)<br />2. 반려동물에게 최소한의 사육공간 및 먹이 제공, 적정한 길이의 목줄, 위생ㆍ건강 관리를 위한 사항 등 농림축산식품부령으로 정하는 사육ㆍ관리 또는 보호의무를 위반하여 인식칩을 제거하거나, 상해를 입히거나 질병을 유발하는 행위.(동물보호법 제 10조 2항 4조 가 개정)";
            break;
          case "drug":
            imagePath = "news_images/drug.png";
            news =
              "<div><span class='bold'>기사 요약</span><br />20대 여성이 필로폰 투약 후 대한항공 비행 중 비상문 개방 시도로 체포되었습니다. 경찰은 여성의 마약 양성 반응 확인 후 조사 중이며, 승객이 승무원 지시 없이 비상문을 조작할 경우 최대 10년 징역형에 처할 수 있습니다.<br /><br /><span class='bold'>개정안 제안 이유</span><br />승객이 마약 등을 투약한 상태에서 비상문을 조작하려고 시도하는 경우등에 대한 명확한 처벌규정이 없는 상태입니다. 이 때문에 마약 투약 후 비정상적 행동이 발생했을 때 적절한 처벌을 적용하는 데 어려움이 있습니다. 이 법안은 이러한 허점을 보완하고 항공 안전을 위협하는 행위에 대해 보다 체계적이고 엄격한 처벌 기준을 마련하려는 목적에서 제안되었습니다.</div>";
            recent =
              "<span class='bold'>현행법</span><br />1. 술을 마시거나 약물을 복용하고 다른 사람에게 위해를 주는 행위(항공보안법 제23조 1항 3조)<br />2. 항공운송사업자는 국토교통부령으로 정하는 바에 따라 조종실 출입문의 보안을 강화하고 운항중에는 허가받지 아니한 사람의 조종실 출입을 통제하는 등 항공기에 대한 보안조치를 하여야 한다.(항공보안법 제 14조 1항 3조)";
            revision =
              "<span class='bold'>개정안 방향성</span><br />1. 항공 보안법에서 승객의 협조의무에 술을 마시거나 약물을 복용하고 비상문 조작 시도 등 항공 안전을 위협하는 행위 신설(안 제23조의1항 8호 신설).<br />2. 운항 중인 항공기 내에서 제 23조 1항 8조를 위반하여 술을 마시거나 약물을 복용하고 비상문 조작 시도 등 항공 안전을 위협하는 행위를 한 사람  (안 제50조 3항 4조 신설)<br />3. 항공운송사업자는 국토교토부령으로 정하는 바에 따라 조종실 출입문, 비상문의 보안을 강화하고 운항중에는 허가받지 아니한 사람의 조종실 출입, 비상문 개방을 통제하는 등 항공기에 대한 보안조치를 하여야 한다.(안 제14조 3항 개정)";
            break;
          case "food":
            imagePath = "news_images/food.png";
            news =
              "<div><span class='bold'>기사 요약</span><br />발기부전치료제 성분 타다라필이 함유된 불법 수입 벌꿀을 판매한 업자가 적발되어 식품위생법 및 수입식품안전관리 특별법 위반으로 검찰에 송치되고, 미국 FDA에서도 해당 제품의 위해성이 확인되어 판매 금지 조치가 내려졌습니다.<br /><br /><span class='bold'>개정안 제안 이유</span><br />위 사건을 통해 현재 수입식품 안전관리 체계의 약점이 드러나 수입식품의 안전 및 위생 관리 강화가 필요가 요구되었습니다. 더불어, 수입 식품의 신고 절차와 세관 신고 과정을 강화하고, 불법 수입 및 대량 판매에 대한 처벌을 강화 필요가 대두되었기에 개정을 촉구합니다.</div>";
            recent =
              "<span class='bold'>현행법</span><br />1. 제1항에 따라 수입신고를 하려는 자 또는 수입신고를 한 자는 수입식품등의 안전과 품질에 대하여 책임을 지며, 다음 각 호에 해당하는 행위를 하여서는 아니 된다. (수입식품안전관리 특별법 제 20조 2항)<br />2. 식품의약품안전처장은 제20조제1항에 따라 수입신고된 수입식품등에 대하여 통관 절차가 끝나기 전에 관계 공무원 또는 「축산물 위생관리법」 제13조의 검사관(이하 '관계 공무원등'이라 한다)이나 검사기관으로 하여금 필요한 검사를 하게 하여야 한다. 이 경우 검사결과의 확인 전이나 위반사항에 대한 보완 전에 사용 또는 판매를 금지하는 등의 조건을 붙여 신고를 수리할 수 있다. (수입식품안전관리 특별법 제 21조 1항)";
            revision =
              "<span class='bold'>개정안 방향성</span><br />1. 수입식품안전관리 특별법 제20조 1항(수입신고 등)<br /> 수입하는 모든 식품의 성분 시험 결과를 요구하는 항을 추가하고, 해당 시험 결과가 수입신고의 필수 요건이 되도록 수정해야 합니다. <br />2. 수입식품안전관리 특별법 제20조 2항(수입신고의 책임 및 금지행위)<br />수입신고자가 위반행위를 할 시 더 엄격한 처벌을 받도록 법을 수정합니다. 또한, 적발된 위반행위가 심각할 경우 영업정지, 벌금 및 구속을 포함한 처벌을 실감하게 적용될 수 있도록 법률을 수정해야 합니다.";
            break;
        }

        // 새로운 div 생성
        const newDiv = document.createElement("div");
        newDiv.classList.add("chat-row", "row");

        // 프사
        const profileImage = document.createElement("img");
        profileImage.src = "img/cats1.png";
        profileImage.classList.add("chat-row-img");

        // 이름
        const newName = document.createElement("p");
        newName.textContent = "오늘의 이슈, 오늘의 개정";
        newName.classList.add("chat-row-name");

        // 기사 요약
        const newText = document.createElement("p");
        newText.innerHTML = news;
        newText.classList.add("chat-row-messege", "messege", "newsMessege");

        newText.addEventListener("click", function () {
          switch (keyword) {
            case "dog":
              window.open(
                "https://news.kbs.co.kr/news/pc/view/view.do?ncd=7866636"
              );
              break;
            case "drug":
              window.open(
                "https://www.seoul.co.kr/news/newsView.php?id=20231123500112"
              );
              break;
            case "food":
              window.open(
                "https://n.news.naver.com/mnews/article/003/0012346200?sid=102"
              );
              break;
          }
        });

        const newText1 = document.createElement("p");
        newText1.innerHTML = recent;
        newText1.classList.add("chat-row-messege", "messege");

        const newText2 = document.createElement("p");
        newText2.innerHTML = revision;
        newText2.classList.add("chat-row-messege", "messege");

        // 기사 이미지
        const newImage = document.createElement("img");
        newImage.src = imagePath;
        newImage.classList.add("chat-keywordimage");

        // 오른쪽 박스
        const chatRowText = document.createElement("div");
        chatRowText.classList.add("chat-row-text");

        // 오른쪽 박스에 이름, 말풍선 추가
        chatRowText.appendChild(newName);
        newText.appendChild(newImage);
        chatRowText.appendChild(newText);
        chatRowText.appendChild(newText1);
        chatRowText.appendChild(newText2);

        // 전체 박스에 프로필 이미지, 오른쪽 박스 추가
        newDiv.appendChild(profileImage);
        newDiv.appendChild(chatRowText);

        // 생성한 div를 기존 문서에 추가
        document.querySelector("main").appendChild(newDiv);
        document.querySelector("main").appendChild(newDiv);
      }
    </script>

    <script>
      /* 하단 3가지 버튼 */
      // 3버튼기능을 위한 함수
      function createMessage(position) {
        var main = document.querySelector("main");

        if (position === "left") {
          var leftContent = document.createElement("div");
          leftContent.classList.add("chat-row", "row");

          var img = document.createElement("img");
          img.classList.add("chat-row-img");
          img.src = "img/cats1.png";
          leftContent.appendChild(img);

          var textContainer = document.createElement("div");
          textContainer.classList.add("chat-row-text");
          leftContent.appendChild(textContainer);

          var name = document.createElement("p");
          name.classList.add("chat-row-name");
          name.textContent = "오늘의 이슈, 오늘의 개정";
          textContainer.appendChild(name);

          var infoContainer = document.createElement("div");
          infoContainer.classList.add("chat-row-info");
          textContainer.appendChild(infoContainer);

          var message1 = document.createElement("p");
          message1.classList.add("chat-row-messege", "messege");
          message1.innerHTML =
            "<span class='bold'>'한두희'</span> 국회의원님의 관심사에 따른 <br /> 금주 이슈 주목 순위를 알려드립니다.<br/><br/>키워드를 눌러 자세한 내용을 확인해보세요.";
          infoContainer.appendChild(message1);

          var voteContainer = document.createElement("p");
          voteContainer.classList.add("chat-row-messege", "vote");
          infoContainer.appendChild(voteContainer);

          var dogButton = createKeywordButton(
            "dog",
            "1위",
            "keyword_images/dog.PNG"
          );
          var drugButton = createKeywordButton(
            "drug",
            "2위",
            "keyword_images/drug.PNG"
          );
          var foodButton = createKeywordButton(
            "food",
            "3위",
            "keyword_images/food.PNG"
          );

          voteContainer.appendChild(dogButton);
          voteContainer.appendChild(drugButton);
          voteContainer.appendChild(foodButton);

          main.appendChild(leftContent);
        }

        // 가운데 버튼: 링크로 이동
        else if (position === "center") {
          window.open(
            "https://www.notion.so/a1e756b25b8d4620ba45dacceb028853",
            "_blank"
          );
        }

        // 오른쪽 버튼: 투표 현황 설명, 이미지 출력
        else if (position === "right") {
          var rightContent = document.createElement("div");
          rightContent.classList.add("chat-row", "row");

          var img = document.createElement("img");
          img.classList.add("chat-row-img");
          img.src = "img/cats1.png";
          rightContent.appendChild(img);

          var textContainer = document.createElement("div");
          textContainer.classList.add("chat-row-text");
          rightContent.appendChild(textContainer);

          var name = document.createElement("p");
          name.classList.add("chat-row-name");
          name.textContent = "오늘의 이슈, 오늘의 개정";
          textContainer.appendChild(name);

          var infoContainer = document.createElement("div");
          infoContainer.classList.add("chat-row-info");
          textContainer.appendChild(infoContainer);

          var message2 = document.createElement("p");
          message2.classList.add("chat-row-messege", "messege");
          message2.innerHTML =
            "국민들이 현재 가장 시급하다고  <br /> 생각하는 사안은 <span class='bold'>'반려견'</span>이에요.";
          infoContainer.appendChild(message2);

          var message = document.createElement("p");
          message.classList.add("chat-row-messege", "messege");
          infoContainer.appendChild(message);

          var voteimg = document.createElement("img");
          voteimg.classList.add("chat-voteimage");
          voteimg.src = "vote_images/vote.png";
          message.appendChild(voteimg);

          main.appendChild(rightContent);
        }
      }

      function createKeywordButton(id, text, imgSrc) {
        var button = document.createElement("button");
        button.classList.add("chat-row-messege-vote");
        button.textContent = text;

        var img = document.createElement("img");
        img.classList.add("chat-keywordimage");
        img.src = imgSrc;

        button.appendChild(img);

        button.onclick = function () {
          showKeyword(id);
        };

        return button;
      }
    </script>

    <script
      src="https://kit.fontawesome.com/e14cec3ae0.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
